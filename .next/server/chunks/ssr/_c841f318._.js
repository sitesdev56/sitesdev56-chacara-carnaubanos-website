module.exports=[65602,a=>{"use strict";var b=a.i(87924),c=a.i(187),d=a.i(97895);let e=(0,c.cva)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function f({className:a,variant:c,...f}){return(0,b.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,d.cn)(e({variant:c}),a),...f})}function g({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"alert-description",className:(0,d.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",a),...c})}a.s(["Alert",()=>f,"AlertDescription",()=>g])},41675,92e3,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>c],41675);let d=(0,b.default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>d],92e3)},42312,a=>{"use strict";function b(){return[]}function c(a){}function d(){return[].map(a=>a.date)}function e(a,b,d,e,f){if([].some(a=>a.date===b))return{success:!1,message:"Esta data já está reservada"};let g=new Date(b),h=new Date;if(h.setHours(0,0,0,0),g<h)return{success:!1,message:"Não é possível agendar datas passadas"};let i=[],j={id:Date.now().toString(),userId:a.id,userName:a.name,userEmail:a.email,userPhone:a.phone,date:b,eventType:d,guestCount:e,notes:f,createdAt:new Date().toISOString()};return i.push(j),c(i),{success:!0,message:"Agendamento realizado com sucesso!",booking:j}}function f(a){return[].filter(b=>b.userId===a).sort((a,b)=>a.date.localeCompare(b.date))}function g(a,b){let d=[],e=d.find(b=>b.id===a);return e?e.userId!==b?{success:!1,message:"Você não tem permissão para cancelar este agendamento"}:(c(d.filter(b=>b.id!==a)),{success:!0,message:"Agendamento cancelado com sucesso"}):{success:!1,message:"Agendamento não encontrado"}}a.s(["cancelBooking",()=>g,"createBooking",()=>e,"getAllBookings",()=>b,"getBookedDates",()=>d,"getUserBookings",()=>f])},88367,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(40695),f=a.i(3130),g=a.i(65602),h=a.i(41675),i=a.i(70106);let j=(0,i.default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),k=(0,i.default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var l=a.i(92e3),m=a.i(47033),n=a.i(42312);function o(){let a=(0,d.useRouter)(),[i,o]=(0,c.useState)(null),[p,q]=(0,c.useState)([]),[r,s]=(0,c.useState)(null);(0,c.useEffect)(()=>{let b=(0,m.getCurrentUser)();b?(o(b),t()):a.push("/login")},[a]);let t=()=>{q((0,n.getAllBookings)().sort((a,b)=>a.date.localeCompare(b.date)))};return i?(0,b.jsx)("div",{className:"min-h-screen p-6 pb-20",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Administração - Agendamentos"}),(0,b.jsx)("div",{className:"w-20 h-1 bg-primary mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Visualize todos os agendamentos dos clientes"})]}),r&&(0,b.jsxs)(g.Alert,{className:"success"===r.type?"border-primary bg-primary/10":"border-destructive bg-destructive/10",children:[(0,b.jsx)(l.AlertCircle,{className:`h-4 w-4 ${"success"===r.type?"text-primary":"text-destructive"}`}),(0,b.jsx)(g.AlertDescription,{className:"success"===r.type?"text-primary":"text-destructive",children:r.text})]}),(0,b.jsxs)(f.Card,{className:"bg-card border-primary",children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsx)(f.CardTitle,{className:"text-foreground",children:"Todos os Agendamentos"}),(0,b.jsxs)(f.CardDescription,{className:"text-muted-foreground",children:["Total: ",p.length," agendamento",1!==p.length?"s":""]})]}),(0,b.jsx)(f.CardContent,{children:0===p.length?(0,b.jsx)("p",{className:"text-muted-foreground text-center py-8",children:"Nenhum agendamento encontrado"}):(0,b.jsx)("div",{className:"space-y-3",children:p.map(a=>{var c;let d=new Date(`${a.date}T00:00:00`)<new Date;return(0,b.jsxs)("div",{className:"bg-secondary/50 border border-primary/30 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(k,{className:"h-4 w-4 text-primary"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-primary font-semibold",children:a.userName}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:a.userEmail})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(j,{className:"h-4 w-4 text-primary"}),(0,b.jsx)("p",{className:"text-foreground",children:a.userPhone})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(h.Calendar,{className:"h-4 w-4 text-primary"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-foreground font-medium",children:(c=a.date,new Date(`${c}T00:00:00`).toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"}))}),(0,b.jsxs)("p",{className:"text-muted-foreground text-sm",children:[a.eventType," –"," ",a.guestCount," convidados"]}),d&&(0,b.jsx)("p",{className:"text-muted-foreground text-xs italic",children:"Realizado"})]})]})]}),a.notes&&(0,b.jsx)("div",{className:"mt-3 pt-3 border-t border-primary/20",children:(0,b.jsxs)("p",{className:"text-muted-foreground text-sm",children:[(0,b.jsx)("span",{className:"font-medium",children:"Observações:"})," ",a.notes]})})]},a.id)})})})]}),(0,b.jsx)("div",{className:"text-center",children:(0,b.jsx)(e.Button,{onClick:()=>a.push("/"),variant:"outline",className:"border-primary text-primary hover:bg-primary hover:text-black",children:"Voltar ao Início"})})]})}):(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,b.jsx)(f.Card,{className:"w-full max-w-md bg-card border-primary",children:(0,b.jsxs)(f.CardContent,{className:"pt-6",children:[(0,b.jsx)("p",{className:"text-center text-foreground mb-4",children:"Você precisa estar logado para acessar esta página"}),(0,b.jsx)(e.Button,{onClick:()=>a.push("/login"),className:"w-full bg-primary text-black hover:bg-primary/90",children:"Fazer Login"})]})})})}a.s(["default",()=>o],88367)}];

//# sourceMappingURL=_c841f318._.js.map